<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Guess Naya's Mood ğŸ’–</title>

  <link rel="stylesheet" href="styles/reset.css" />
  <link rel="stylesheet" href="styles/main.css" />
  <style>
    /* ×ª×•×¡×¤×•×ª ×§×˜× ×•×ª ×œ××©×—×§×™×•×ª */

    .next-area {
      margin-top: 20px;
      min-height: 48px;
    }

    .next-btn {
      background: linear-gradient(90deg,#ff72c6,#ffa3cf);
      border: 0;
      color: #fff;
      font-size: 1rem;
      font-weight: 600;
      padding: 10px 16px;
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(255, 0, 128, 0.3),
                  0 4px 8px rgba(0,0,0,0.12);
      cursor: pointer;
      display: none; /* ×™×”×™×” block ××—×¨×™ ×©× × ×—×© */
    }

    .next-btn:disabled {
      opacity: 0.5;
      cursor: default;
    }

    .final-message {
      font-size: 1.1rem;
      font-weight: 600;
      color: #ff4b91;
      text-align: center;
      display: none;
    }

    /* ×§×•× ×¤×˜×™ (×¤×©×•×˜, div×™× × ×•×¤×œ×™×) */
    .confetti-piece {
      position: absolute;
      width: 8px;
      height: 8px;
      background: radial-gradient(circle at 30% 30%, #fff 0%, #ff7ac6 40%, #ff4b91 60%);
      border-radius: 2px;
      animation: fall 1s ease-out forwards;
      pointer-events: none;
      z-index: 9999;
    }

    @keyframes fall {
      0%   { opacity: 1; transform: translateY(0) rotate(0deg) scale(1); }
      100% { opacity: 0; transform: translateY(80px) rotate(360deg) scale(0.6); }
    }

    /* ×”×•×“×¢×ª × ×›×•×Ÿ/×œ× × ×›×•×Ÿ ×§×¦×ª ×™×•×ª×¨ ××•×“×’×©×ª */
    .result-text {
      font-size: 1rem;
      font-weight: 500;
      text-align: center;
      min-height: 2em;
    }

    .result-correct {
      color: #1a7f1a;
    }
    .result-wrong {
      color: #b61d3d;
    }

    /* ×¢×•×©×™× ××ª ××–×•×¨ ×”×ª××•× ×” position:relative ×›×™ ×”×•×¨×“× ×• ××ª ×”-badge */
    .image-area {
      position: relative;
      margin-top: 20px;
      text-align: center;
    }

    #naya-image {
      width: 260px;
      height: 260px;
      object-fit: cover;
      border-radius: 20px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.15);
      border: 3px solid #fff;
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <main class="card">
    <header class="header">
      <h1 class="title">Guess Naya's Mood!</h1>
      <p class="subtitle">Which Naya are we looking at?</p>
    </header>

    <section class="image-area">
      <img id="naya-image" src="" alt="Naya's mood" />
      <!-- ×”×•×¨×“× ×• ××ª ×”×‘×œ×•×§ ×”×•×¨×•×“ ×©×”×™×” ×›××Ÿ -->
    </section>

    <section class="question">
      <p>Choose a mood:</p>
    </section>

    <section class="buttons">
      <button class="mood-btn" data-mood="Fairy">Fairy ğŸ§š</button>
      <button class="mood-btn" data-mood="Hungry3">Hungry ğŸ˜‹</button>
      <button class="mood-btn" data-mood="Silly">Silly ğŸ¤ª</button>
      <button class="mood-btn" data-mood="Tired">Tired ğŸ˜´</button>
    </section>

    <section class="result-area">
      <p id="result" class="result-text">Make a guess ğŸ’­</p>
    </section>

    <section class="next-area">
      <button id="next-btn" class="next-btn">Next âœ</button>
      <p id="final-message" class="final-message">Come back soon for more pictures ğŸ’–</p>
    </section>

    <footer class="footer">
      <p class="tiny-note">Â© Naya Inc. (CEO since birth)</p>
    </footer>
  </main>

<script>
  // ×›×œ ×”×ª×•×›×Ÿ ×©×œ script.js ×¤×”
  // ------------------------------------
  // ×××’×¨ ×”×ª××•× ×•×ª/××¦×‘×™× ×©×œ × ××™×”
  // ------------------------------------
  const originalMoods = [
    { name: "Fairy",    file: "Fairy.jpeg",    niceLabel: "Fairy ğŸ§š"    },
    { name: "Hungry3",  file: "Hungry3.jpeg",  niceLabel: "Hungry ğŸ˜‹"   },
    { name: "Silly",    file: "Silly.jpeg",    niceLabel: "Silly ğŸ¤ª"    },
    { name: "Tired",    file: "Tired.jpeg",    niceLabel: "Tired ğŸ˜´"    },
  ];

  let nayaMoods = [];
  let currentIndex = 0;
  let gameOver = false;
  let roundSolved = false;

  const imgEl = document.getElementById("naya-image");
  const resultEl = document.getElementById("result");
  const buttons = document.querySelectorAll(".mood-btn");
  const nextBtn = document.getElementById("next-btn");
  const finalMsgEl = document.getElementById("final-message");

  function shuffleArray(arr) {
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function throwConfetti() {
    const rect = imgEl.getBoundingClientRect();
    const originX = rect.left + rect.width / 2;
    const originY = rect.top + rect.height / 2;
    const NUM_PIECES = 80;

    for (let i = 0; i < NUM_PIECES; i++) {
      const piece = document.createElement("div");
      piece.classList.add("confetti-piece");

      const spreadX = (Math.random() - 0.5) * rect.width * 0.8;
      const spreadY = (Math.random() - 0.5) * rect.height * 0.4;

      piece.style.left = originX + spreadX + "px";
      piece.style.top = originY + spreadY + "px";

      piece.style.setProperty("--hue", Math.random());

      const size = Math.random() * 8 + 4;
      piece.style.width = `${size}px`;
      piece.style.height = `${size}px`;

      piece.style.animationDuration = 1 + Math.random() * 1.5 + "s";
      piece.style.transform = `rotate(${Math.random() * 360}deg)`;

      document.body.appendChild(piece);

      setTimeout(() => {
        piece.remove();
      }, 2000);
    }
  }

  function renderRound() {
    const current = nayaMoods[currentIndex];
    // ×©×™××™ ×œ×‘: × ×˜×¢×Ÿ ××”×©×•×¨×©, ×›×™ Vercel ××’×™×© ××ª ×”×ª××•× ×•×ª ×¢× ×”-URL ×”×™×©×™×¨
    imgEl.src = `/${current.file}`;

    resultEl.textContent = "Make a guess ğŸ’­";
    resultEl.classList.remove("result-correct", "result-wrong");

    nextBtn.style.display = "none";
    nextBtn.disabled = false;

    roundSolved = false;

    buttons.forEach((btn) => {
      btn.disabled = false;
      btn.classList.remove("wrong-guess");
    });

    finalMsgEl.style.display = "none";
  }

  function goNext() {
    if (gameOver) return;

    currentIndex++;

    if (currentIndex >= nayaMoods.length) {
      gameOver = true;
      showGameOver();
    } else {
      renderRound();
    }
  }

  function showGameOver() {
    imgEl.src = "";
    resultEl.textContent = "";
    nextBtn.style.display = "none";
    finalMsgEl.style.display = "block";

    buttons.forEach((btn) => {
      btn.disabled = true;
    });
  }

  buttons.forEach((btn) => {
    btn.addEventListener("click", () => {
      if (gameOver) return;

      const guessed = btn.getAttribute("data-mood"); // Fairy / Hungry3 / Silly / Tired
      const current = nayaMoods[currentIndex];
      const correct = guessed === current.name;

      if (correct) {
        resultEl.textContent = `Correct! This is "${current.niceLabel}" ğŸ˜`;
        resultEl.classList.remove("result-wrong");
        resultEl.classList.add("result-correct");
        throwConfetti();
        roundSolved = true;

        buttons.forEach((b) => {
          b.disabled = true;
        });

        nextBtn.style.display = "inline-block";

      } else {
        resultEl.textContent = `Not this one ğŸ˜… Try again!`;
        resultEl.classList.remove("result-correct");
        resultEl.classList.add("result-wrong");
        btn.classList.add("wrong-guess");
      }
    });
  });

  nextBtn.addEventListener("click", () => {
    if (gameOver) return;
    if (roundSolved) {
      goNext();
    } else {
      nextBtn.disabled = true;
      setTimeout(() => {
        nextBtn.disabled = false;
      }, 600);
    }
  });

  function startGame() {
    nayaMoods = shuffleArray(originalMoods);
    currentIndex = 0;
    gameOver = false;
    roundSolved = false;

    renderRound();
  }

  startGame();
</script></body>
</html>
